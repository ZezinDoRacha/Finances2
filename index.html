<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GestÃ£o Financeira 2026</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app-container" id="app-wrapper">
  
  <div id="overlay-mobile" onclick="toggleSidebar()"></div>

  <button id="toggle-sidebar" onclick="toggleSidebar()">
    <span style="font-size: 1.2rem;">â˜°</span>
  </button>

  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h2>SISTEMA 2026</h2>
    </div>

    <div class="cofrinho-card" onclick="window.location.href='economias.html'" style="cursor: pointer;">
      <div class="cofrinho-header">
        <span>ğŸ· Minhas Economias</span>
      </div>
      <p id="saldo-sidebar">R$ 0,00</p>
      <button>Gerenciar Carteira</button>
    </div>

    <nav id="menu-meses" class="menu-meses-grid"></nav>

    <div class="sidebar-footer" style="margin-top: auto; padding-top: 20px;">
      
      <button id="btn-tema" onclick="alternarTema()" class="btn-backup" style="margin-bottom: 10px; text-align: center; justify-content: center;">
        ğŸŒ— Alternar Tema
      </button>

      <div class="backup-area" style="display: flex; gap: 5px; margin-bottom: 15px;">
        <button class="btn-backup" onclick="exportarDados()" title="Salvar Backup">ğŸ’¾ Salvar</button>
        <button class="btn-backup" onclick="document.getElementById('input-import').click()" title="Carregar Backup">ğŸ“‚ Abrir</button>
        <input type="file" id="input-import" style="display:none" onchange="importarDados(event)" accept=".json">
      </div>

      <div style="height: 1px; background: rgba(255,255,255,0.1); margin: 15px 0;"></div>

      <button class="btn-reset" onclick="resetarSistema()">
        â˜ ï¸ ZERAR TUDO
      </button>
    </div>
  </aside>

  <main class="main-content">
    <header>
      <h1 id="titulo-pagina">Janeiro</h1>
      
      <div class="dashboard" id="painel-resumo">
        <div class="card card-atrasado">
          <h3>ğŸ”´ Atrasado</h3>
          <p id="totalAtrasados">R$ 0,00</p>
        </div>
        <div class="card card-pendente">
          <h3>ğŸŸ  Restante</h3>
          <p id="totalPendentes">R$ 0,00</p>
        </div>
        <div class="card card-recebido">
          <h3>ğŸŸ¢ Recebido</h3>
          <p id="totalRecebido">R$ 0,00</p>
        </div>
      </div>
    </header>

    <button id="btn-abrir-cadastro" onclick="toggleFormCadastro()">
      <span class="btn-text">Novo Cadastro</span>
      <span class="btn-icon">â•</span>
    </button>

    <div class="busca-container">
      <input type="text" id="buscaNome" placeholder="ğŸ” Buscar cliente, valor ou data...">
    </div>

    <div class="tabs">
      <button class="tab-btn active" data-aba="atrasados" onclick="mudarAba('atrasados')">ğŸ”´ Devendo</button>
      <button class="tab-btn" data-aba="pendentes" onclick="mudarAba('pendentes')">ğŸŸ  A Pagar</button>
      <button class="tab-btn" data-aba="pagos" onclick="mudarAba('pagos')">ğŸŸ¢ Pagos</button>
      <button class="tab-btn" data-aba="parcelados" onclick="mudarAba('parcelados')">ğŸ“… Parcelados</button>
    </div>

    <ul id="listaPrincipal"></ul>
  </main>
</div>

<div id="container-cadastro" class="modal-geral">
  <section class="modal-content">
    <span class="close-modal" onclick="toggleFormCadastro()">Ã—</span>
    <h3>Novo LanÃ§amento</h3>
    <div class="form-grid">
      <input type="text" id="nome" placeholder="Nome do Cliente">
      <input type="tel" id="telefone" placeholder="WhatsApp (Opcional)">
      
      <div style="display:flex; gap:10px;">
        <input type="number" id="valor" placeholder="Valor (R$)" style="flex:1">
        <input type="date" id="data" style="flex:1">
      </div>
      
      <select id="repetir">
        <option value="1">CobranÃ§a Ãšnica</option>
        <option value="4">4Ã— (Semanal)</option>
        <option value="8">8Ã— (Semanal)</option>
        <option value="12">12Ã— (Semanal)</option>
      </select>
      
      <button class="btn-acao-principal" onclick="adicionarCobranca()">âœ… Confirmar Cadastro</button>
    </div>
  </section>
</div>

<div id="modalEdicao" class="modal-geral">
  <div class="modal-content">
    <span class="close-modal" onclick="fecharModal()">Ã—</span>
    <h3>Editar LanÃ§amento</h3>
    <input type="hidden" id="edit-id">
    
    <div class="form-edit">
      <label style="font-size: 0.85rem; color: var(--text-muted);">Nome do Cliente</label>
      <input type="text" id="edit-nome">
      
      <div style="display:flex; gap:10px; margin-top: 10px;">
        <div style="flex:1">
          <label style="font-size: 0.85rem; color: var(--text-muted);">Valor Total</label>
          <input type="number" id="edit-valor" step="0.01">
        </div>
        <div style="flex:1">
          <label style="font-size: 0.85rem; color: var(--text-muted);">JÃ¡ Pago</label>
          <input type="number" id="edit-pago-parcial" step="0.01">
        </div>
      </div>
      
      <label style="font-size: 0.85rem; color: var(--text-muted); margin-top: 10px; display:block;">Data de Vencimento</label>
      <input type="date" id="edit-data">
      
      <button class="btn-salvar-modal" onclick="salvarEdicao()" style="margin-top: 20px;">ğŸ’¾ Salvar AlteraÃ§Ãµes</button>
    </div>
  </div>
</div>

<div id="modalCofrinho" class="modal-geral">
  <div class="modal-content">
    <span class="close-modal" onclick="fecharModalCofrinho()">Ã—</span>
    <h3>ğŸ· Gerenciar Economias</h3>
    
    <div style="background:var(--bg-input); padding:20px; border-radius:15px; text-align:center; margin-bottom:25px; border:1px solid var(--border-color)">
      <small style="text-transform: uppercase; color: var(--text-muted); font-size: 0.8rem;">Saldo DisponÃ­vel</small>
      <h2 id="saldo-modal" style="color:var(--primary); font-size: 2.5rem; margin: 5px 0 0 0;">R$ 0,00</h2>
    </div>

    <div class="form-grid">
      <input type="number" id="valor-cofrinho" placeholder="Valor (R$)">
      <input type="text" id="motivo-cofrinho" placeholder="Motivo (Opcional)">
      
      <div style="display:flex; gap:10px; margin-top:15px;">
        <button class="btn-acao-principal" style="background:var(--success); flex:1" onclick="operarCofrinho('depositar')">â¬‡ï¸ Depositar</button>
        <button class="btn-acao-principal" style="background:var(--danger); flex:1" onclick="operarCofrinho('sacar')">â¬†ï¸ Sacar</button>
      </div>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>